export default class ArrayI extends Array{static arrayI(r=[]){if(!Array.isArray(r))throw Error("ArrayI.arrayI parameter is not an array");const t=new ArrayI;return Array.prototype.push.apply(t,deepCopy(r)),t}static from(r,t,e){return this.arrayI(deepCopy(Array.from(r,t,e)))}static of(...r){return this.arrayI(deepCopy(Array.of(...arguments)))}concat(...r){return this.constructor.arrayI(deepCopy(Array.concat(...arguments)))}copyWithin(r,t,e){const n=deepCopy([...this]);return this.constructor.arrayI(n.copyWithin(...arguments))}fill(r,t,e){const n=deepCopy([...this]);return this.constructor.arrayI(n.fill(...arguments))}filter(r,t){const e=deepCopy([...this]);return this.constructor.arrayI(e.filter(...arguments))}flat(r){const t=deepCopy([...this]);return this.constructor.arrayI(t.flat(r))}flatMap(r){const t=deepCopy([...this]).flatMap(...arguments);return this.constructor.arrayI(t)}map(r,t){const e=deepCopy([...this]);return this.constructor.arrayI(e.map(...arguments))}pop(){const r=deepCopy([...this]);return r.pop(),this.constructor.arrayI(r)}push(...r){const t=deepCopy([...this]);return t.push(...arguments),this.constructor.arrayI(t)}reverse(){const r=deepCopy([...this]);return this.constructor.arrayI(r.reverse())}shift(){const r=deepCopy([...this]);return r.shift(),this.constructor.arrayI(r)}slice(r,t){const e=deepCopy([...this]);return this.constructor.arrayI(e.slice(...arguments))}sort(r){const t=deepCopy([...this]);return this.constructor.arrayI(t.sort(r))}splice(r,t,...e){const n=deepCopy([...this]);return n.splice(...arguments),this.constructor.arrayI(n)}unshift(...r){const t=deepCopy([...this]);return t.unshift(...arguments),this.constructor.arrayI(t)}}function deepCopy(r){let t;return r?n(r)||s(r)?r:o(r)?new Date(r.getTime()):(a(r)?t=new ArrayI:c(r)?t=[]:i(r)&&(t={}),function r(t,p){for(const y in t){if(!t.hasOwnProperty(y))continue;const u=t[y];n(u)||s(u)?e(p,y,u):o(u)?e(p,y,new Date(u.getTime())):a(u)?r(u,e(p,y,new ArrayI)):c(u)?r(u,e(p,y,[])):i(u)&&r(u,e(p,y,{}))}}(r,t),t):r;function e(r,t,e){return a(r)||c(r)?(Array.prototype.push.call(r,e),r[r.length-1]):i(r)?(r[t]=e,r[t]):void 0}function n(r){let t=typeof r;return"number"===t||"string"===t||"boolean"===t}function o(r){return r instanceof Date}function s(r){return r instanceof Function}function a(r){return r instanceof ArrayI}function c(r){return r instanceof Array}function i(r){return r instanceof Object}}